; ============================================
; ☆ 몰루K 데일리이벤트 - 노도카의 분노
;  - 제작자 : DanB
;  - 설명 : 매 턴 10% 확률로 발생. 
;    체리노 실각 이벤트와 연계해서 체리노실각_노도카분노 에 따라 붉은겨울의 일상 데일리 내용이 달라진다.
;    혁명의 이반 쿠팔라 스토리에서 일부 차용함
;  - 장르 : 일상, 그외
;
; ☆ 라이선스 (수정해서 사용, 필요 없을시 삭제)
; 1. 해당 이벤트를 가필, 수정, 개조하는 것을 허용합니다. 단, 상단 가필, 수정 내역에 수정자 및 수정내용을 작성하길 권장합니다.
; 2. 해당 이벤트를 타 era에 이식하는 것을 허용합니다. 이식할 때 이벤트 제작자, 수정자의 이름을 적어야합니다.
; 3. 해당 이벤트를 타 게임, 타 매체에 이용할 때엔 이벤트 제작자에게 허락을 받으시기 바랍니다.
; 4. 해당 이벤트를 타 언어로 번역하는 것을 허용합니다.
; 5. 위 4가지 사항에 대해 이벤트의 출처나 제작/개조자를 표기하여야 합니다.
; ============================================
;---------------------
; ☆ 이벤트 발생 확률(천분율, 100이라면 10%)
;  - 확률 : 10%
;---------------------
@EVENT_DAILY_NODOKAANGRY_RATE()
RETURN 100


;---------------------
; ☆ 확률 외의 발생 조건
;  - 이벤트 자체가 걸러지는 필터 조건을 기입
;  - RETURN이 0이면 발동 x, RETURN이 1이면 발동
;  - ex) 에로계열 필터 OFF시 이벤트 작동 X
;
; ☆ 본체 내 필터 조건
;  - 이벤트 자체 조건 외에 이벤트 내용 중 조건등을 기입
;  - ex) NTR이벤트 OFF시, NTR 전개로 흘러가지 않음
;---------------------
@EVENT_DAILY_NODOKAANGRY_DECISION()
#DIM 세력군주
세력군주 = GET_COUNTRY_BOSS(CFLAG:99:소속)
;체리노와 노도카가 같은 소속
SIF CFLAG:99:소속 != CFLAG:96:소속
    RETURN 0
;세력 수장이 체리노
SIF 세력군주 != 96
    RETURN 0
SIF DVAR:체리노실각_노도카분노 >= 2
    RETURN 0
;체리노와 노도카가 포로가 아님
SIF CFLAG:99:포로처 || CFLAG:96:포로처
    RETURN 0
RETURN 1

;---------------------
; ☆ 장르
;---------------------
@EVENT_DAILY_NODOKAANGRY_GENRE()
RETURN 데일리_장르_그외

;---------------------
; ☆ 이벤트 랜덤대상 조건
;  - 특정의 조건을 채우는 캐릭터를 랜덤에 선택하는 경우에 이용
;    다른 함수는 필수이지만, 이것은 없어도 괜찮음(오히려 성능상 필요 없다면 지우는걸 추천)
;    해당조건의 대상이 존재하지 않다면 RETURN을 0으로 되돌려 데일리이벤트 발생을 취소시킬 수 있다
;
;  - ex) 같은 동아리 소속이자(포로 X), 비 임신캐릭터
;  - ex) 농땡이마왕이 아닐 것(귀찮아서 조깅도 안하니까)
;---------------------
@EVENT_DAILY_NODOKAANGRY_SETTARGET()

; 예시(지우고 사용하세요)
;FOR LOCAL, 0, CHARANUM
;	IF CFLAG:(LOCAL):소속 == CFLAG:MASTER:소속 && !(CFLAG:(LOCAL):행동불능상태 == 행동불능_임월) && !CFLAG:(LOCAL):포로처 && IS_FEMALE(LOCAL) && !IS_ANIMAL(LOCAL) && !TALENT:(LOCAL):농땡이마왕
;		DAILY_TARGET:DAILY_TARGET_NUM = LOCAL 
;		DAILY_TARGET_NUM ++
;	ENDIF
;NEXT
;
;SIF DAILY_TARGET_NUM == 0
;	RETURN 0
;
;RETURN 1


; FOR LOCAL, 0, CHARANUM

; NEXT
RETURN 1

;---------------------
;이벤트의 진행 정도에 응해 이벤트명을 변경하고 싶은 경우에 이용
;변경할 필요가 없는 경우, 이 함수는 불요
;---------------------
; @EVENT_DAILY_NODOKAANGRY_NAME()
; RESULTS = ""


;---------------------
; ☆ 본체
;  - 이벤트가 발생했을 경우는 1, 발생하지 않았던 경우는 0을 돌려준다
;---------------------
@EVENT_DAILY_NODOKAANGRY()
IF DVAR:체리노실각_노도카분노 == 0
    PRINTW 붉은겨울 학원 구교사
    PRINTL
    PRINTL
    PRINTW 「우우… 더 이상 참을 수 없어요!」
    CALL FACE_IMAGE_N("표정_99_일반_6")
    PRINTW 「식사조차 제대로 배급되지 않고!」
    PRINTW 「제대로 된 난방기구도 없고!」
    CALL FACE_IMAGE_N("표정_99_일반_7")
    PRINTW 「밤에는 이불 속에서 벌레가 나오고…」
    PRINTW 「더 이상 이런 곳에선 지내긴 싫어요…」
    DVAR:체리노실각_노도카분노 = 1
ELSEIF DVAR:체리노실각_노도카분노 == 1
    PRINTW 붉은겨울 학원 구교사
    PRINTL
    PRINTL
    PRINTW 「틀림 없어요…」
    CALL FACE_IMAGE_N("표정_99_일반_6")
    PRINTW 「체리노 회장이… 그 꼬맹이가 우릴 여기 구교사에 쳐 박아놓고 잊어버린게 틀림 없다구요!」
    PRINTW 「선생님을 망원경으로 보는게 그 정도로 큰 잘못은 아니잖아요?」
    PRINTL
    CALL FACE_IMAGE_N("표정_99_일반_7")
    PRINTW 「언제까지 이곳에 있어야 하는걸까요」
    DVAR:체리노실각_노도카분노 = 2
ENDIF    
RETURN 1
